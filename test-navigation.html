<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>导航栏模式切换测试</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="phone-simulator">
        <div class="phone-frame">
            <div class="phone-status-bar">
                <div class="status-time">14:25</div>
                <div class="status-icons">
                    <i class="fas fa-signal"></i>
                    <i class="fas fa-wifi"></i>
                    <i class="fas fa-battery-three-quarters"></i>
                </div>
            </div>
            
            <div class="app-container">
                <div class="status-bar">
                    <h1>导航栏测试</h1>
                </div>

                <div id="page-container" style="padding: 20px;">
                    <h2>当前用户模式: <span id="current-mode">student</span></h2>
                    <p>底部导航栏应该根据当前用户模式显示对应的模式选项</p>
                    
                    <div class="card">
                        <h3>测试用户模式切换</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                            <button class="btn btn-primary" onclick="switchMode('student')">
                                学生模式
                            </button>
                            <button class="btn btn-primary" onclick="switchMode('family')">
                                家庭模式
                            </button>
                            <button class="btn btn-primary" onclick="switchMode('freelancer')">
                                自由职业者模式
                            </button>
                        </div>
                        
                        <div class="test-result">
                            <h4>测试结果:</h4>
                            <div id="test-result">等待测试...</div>
                        </div>
                    </div>
                </div>

                <!-- 底部导航栏 -->
                <div class="bottom-nav">
                    <a href="#" class="nav-item active" data-page="home">
                        <i class="fas fa-home"></i>
                        <span>首页</span>
                    </a>
                    <a href="#" class="nav-item" data-page="analysis">
                        <i class="fas fa-chart-bar"></i>
                        <span>分析</span>
                    </a>
                    <a href="#" class="nav-item" data-page="budget">
                        <i class="fas fa-wallet"></i>
                        <span>预算</span>
                    </a>
                    <a href="#" class="nav-item" data-page="settings">
                        <i class="fas fa-cog"></i>
                        <span>设置</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 模拟用户模式切换功能
        function switchMode(mode) {
            const currentModeSpan = document.getElementById('current-mode');
            const testResultDiv = document.getElementById('test-result');
            
            // 更新当前模式显示
            currentModeSpan.textContent = mode;
            
            // 更新底部导航栏
            updateBottomNav(mode);
            
            // 显示测试结果
            testResultDiv.innerHTML = `
                <div style="color: green;">
                    ✓ 成功切换到${getModeName(mode)}模式
                </div>
                <div style="margin-top: 10px; font-size: 0.9rem; color: #666;">
                    底部导航栏已更新为${getModeName(mode)}模式对应的选项
                </div>
            `;
            
            console.log(`切换到${mode}模式`);
        }
        
        function getModeName(mode) {
            const modeNames = {
                'student': '学生',
                'family': '家庭',
                'freelancer': '自由职业者'
            };
            return modeNames[mode] || mode;
        }
        
        function updateBottomNav(mode) {
            const bottomNav = document.querySelector('.bottom-nav');
            
            // 根据模式更新导航项
            if (mode === 'family') {
                bottomNav.innerHTML = `
                    <a href="#" class="nav-item active" data-page="home">
                        <i class="fas fa-home"></i>
                        <span>家庭首页</span>
                    </a>
                    <a href="#" class="nav-item" data-page="members">
                        <i class="fas fa-users"></i>
                        <span>家庭成员</span>
                    </a>
                    <a href="#" class="nav-item" data-page="shared-budget">
                        <i class="fas fa-share-alt"></i>
                        <span>共享预算</span>
                    </a>
                    <a href="#" class="nav-item" data-page="settings">
                        <i class="fas fa-cog"></i>
                        <span>家庭设置</span>
                    </a>
                `;
            } else if (mode === 'freelancer') {
                bottomNav.innerHTML = `
                    <a href="#" class="nav-item active" data-page="home">
                        <i class="fas fa-home"></i>
                        <span>工作台</span>
                    </a>
                    <a href="#" class="nav-item" data-page="projects">
                        <i class="fas fa-briefcase"></i>
                        <span>项目管理</span>
                    </a>
                    <a href="#" class="nav-item" data-page="invoices">
                        <i class="fas fa-file-invoice"></i>
                        <span>发票管理</span>
                    </a>
                    <a href="#" class="nav-item" data-page="settings">
                        <i class="fas fa-cog"></i>
                        <span>专业设置</span>
                    </a>
                `;
            } else {
                // 学生模式（默认）
                bottomNav.innerHTML = `
                    <a href="#" class="nav-item active" data-page="home">
                        <i class="fas fa-home"></i>
                        <span>首页</span>
                    </a>
                    <a href="#" class="nav-item" data-page="analysis">
                        <i class="fas fa-chart-bar"></i>
                        <span>分析</span>
                    </a>
                    <a href="#" class="nav-item" data-page="budget">
                        <i class="fas fa-wallet"></i>
                        <span>预算</span>
                    </a>
                    <a href="#" class="nav-item" data-page="settings">
                        <i class="fas fa-cog"></i>
                        <span>设置</span>
                    </a>
                `;
            }
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('导航栏测试页面已加载');
            updateBottomNav('student');
        });
    </script>
</body>
</html>